## GTFS Static Dataset Endpoints

The GTFS Static API provides access to public transportation data represented as a GTFS Feed, which consists of a collection of text files packaged in a ZIP file. Each file represents a specific aspect of transit information and can be individually queried using the `/gtfs/<gtfs_type>` endpoint, where `<gtfs_type>` corresponds to the specific file.

### Downloading the ZIP file

```http
GET .../gtfs
```

- If no GTFS data type is specified, the above request will return the complete GTFS dataset in ZIP format.

### Available GTFS Static Types

```http
# Syntax
GET .../gtfs/<gtfs_type>

# Example
GET .../gtfs/agency
```

The API supports the following GTFS data types:

| GTFS Type   | Description                                      |
| ----------- | ------------------------------------------------ |
| agency      | Information about transit agencies               |
| calendar    | Service availability for specific dates          |
| frequencies | Frequency-based scheduling for trips             |
| routes      | Details about transit routes                     |
| stop_times  | Timetables and stop details for trips            |
| stops       | Information about transit stops                  |
| trips       | Specific trips with associated route information |

## Query Parameters

The following parameters are only applicable to the `/gtfs/<gtfs_type>` endpoint, please remember to specify the `<gtfs_type>` in your request.

### The `download` Parameter

```http
# Syntax
?download=<bool>

# Example (.txt format)
GET .../gtfs/agency?download=true

# Example (JSON format)
GET .../gtfs/agency?download=false
GET .../gtfs/agency
```

To control the format of the returned data, you can include the `download` parameter in your query. By default, or when `download` is set to false, GTFS data will be returned in JSON format. Setting `download` to true, however returns GTFS data in its original .txt format.

### The `area` Parameter

```http
# Syntax
?area=<state>

# Example
GET .../gtfs/agency?area=jhr
```

To filter the GTFS data based on a specific state, you can include the `area` parameter in your query. A few notes:
- Use the three-letter abbreviation for the state (eg. `jhr` for Johor and `kul` for WP Kuala Lumpur).
- Currently, only the state of Johor (`jhr`) is supported.

### Filtering by Fields

```http
# Example
?<field>=<value>

# Example
GET .../gtfs/agency?agency_name=CWL
```

Refer to the table below for the available fields for each GTFS type:

| GTFS Type   | Available Fields                                                                                                                           |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| agency      | `agency_id`, `agency_name`, `agency_url`, `agency_timezone`, `agency_phone`, `agency_lang`                                                 |
| calendar    | `service_id`, `monday`, `tuesday`, `wednesday`, `thursday`, `friday`, `saturday`, `sunday`, `start_date`, `end_date`                       |
| frequencies | `trip_id`, `start_time`, `end_time`, `headway_secs`, `exact_times`                                                                         |
| routes      | `route_id`, `agency_id`, `route_short_name`, `route_long_name`, `route_desc`, `route_type`, `route_url`, `route_color`, `route_text_color` |
| stop_times  | `trip_id`, `arrival_time`, `departure_time`, `stop_id`, `stop_sequence`, `stop_headsign`, `pickup_type`, `shape_dist_traveled`             |
| stops       | `stop_id`, `stop_code`, `stop_name`, `stop_desc`, `stop_lat`, `stop_lon`, `zone_id`, `stop_url`, `location_type`, `parent_station`         |
| trips       | `route_id`, `service_id`, `trip_id`, `trip_headsign`, `direction_id`, `block_id`, `shape_id`, `wheelchair_accessible`                      |

For further details about each field's definition and usage, please refer to the official [GTFS Documentation](https://developers.google.com/transit/gtfs/reference#field_definitions) provided by Google.
